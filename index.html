<html><head><link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Comfortaa|Raleway|Ubuntu' /><link rel='stylesheet' type='text/css' href='default.css' /><script type='text/javascript' src='default.js'></script><title>example</title></head><body><div class="page-header"><div class="title"><h1>example</h1></div><div class="table-of-contents"><h1>Index</h1><ol><li><a href="#" data-node=""><span class="directory"></span></a><ol><li><a href="#README.md" data-node="README.md"><span class="file">README</span><span class="extension">md</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/README.md">[edit on web]</a></a></li></ol></li><li><a href="#doc/source" data-node="doc/source"><span class="directory">doc/source</span></a><ol><li><a href="#doc/source/0 introduction.rst" data-node="doc/source/0 introduction.rst"><span class="file">0 introduction</span><span class="extension">rst</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/source/0 introduction.rst">[edit on web]</a></a></li><li><a href="#doc/source/1 pros-n-cons.rst" data-node="doc/source/1 pros-n-cons.rst"><span class="file">1 pros-n-cons</span><span class="extension">rst</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/source/1 pros-n-cons.rst">[edit on web]</a></a></li><li><a href="#doc/source/3 handwritten.rst" data-node="doc/source/3 handwritten.rst"><span class="file">3 handwritten</span><span class="extension">rst</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/source/3 handwritten.rst">[edit on web]</a></a></li><li><a href="#doc/source/4 autogenerated.rst" data-node="doc/source/4 autogenerated.rst"><span class="file">4 autogenerated</span><span class="extension">rst</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/source/4 autogenerated.rst">[edit on web]</a></a></li></ol></li><li><a href="#" data-node=""><span class="directory"></span></a><ol><li><a href="#example.asd" data-node="example.asd"><span class="file">example</span><span class="extension">asd</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/example.asd">[edit on web]</a></a></li></ol></li><li><a href="#doc/scripts" data-node="doc/scripts"><span class="directory">doc/scripts</span></a><ol><li><a href="#doc/scripts/build.ros" data-node="doc/scripts/build.ros"><span class="file">build</span><span class="extension">ros</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/scripts/build.ros">[edit on web]</a></a></li></ol></li><li><a href="#src" data-node="src"><span class="directory">src</span></a><ol><li><a href="#src/utils.lisp" data-node="src/utils.lisp"><span class="file">utils</span><span class="extension">lisp</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/src/utils.lisp">[edit on web]</a></a></li><li><a href="#src/class.lisp" data-node="src/class.lisp"><span class="file">class</span><span class="extension">lisp</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/src/class.lisp">[edit on web]</a></a></li><li><a href="#src/app.lisp" data-node="src/app.lisp"><span class="file">app</span><span class="extension">lisp</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/src/app.lisp">[edit on web]</a></a></li></ol></li></ol></div></div><div class="main"><h1 id=""><span class="directory"></span></h1><h2 id="README.md"><span class="file">README</span><span class="extension">md</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/README.md">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="eazy-documentation">eazy-documentation</h1>
<p>This is an example project of <a href="https://guicho271828.github.io/eazy-documentation/">Eazy Documentation</a> Common Lisp documentation system.</p>
<p>This repository is part of the <a href="https://github.com/cl-doc-systems" class="uri">https://github.com/cl-doc-systems</a> organization, created to compare different Common Lisp documentation systems</p>
<p>The goal is make it easier for CL software developers to choose proper documentation system and to improve docs in their software!</p>
<p>Resulting documentation can be viewed here:</p>
<p><a href="https://cl-doc-systems.github.io/eazy-documentation/" class="uri">https://cl-doc-systems.github.io/eazy-documentation/</a></p>
<h2 id="osx-installation">OSX Installation</h2>
<pre><code>brew install pandoc
brew install texinfo
export PATH=&quot;/usr/local/opt/texinfo/bin:$PATH&quot;

;; Without this, eazy documentation will not find
;; ASDF system in the local directory:
export CL_SOURCE_REGISTRY=`pwd`/

ros install guicho271828/eazy-documentation

# Eazy Documentation is able to process
# package inferred systems only on ASDF &gt;= 3.3.4
# That is why we need to upgrade it.
ros install asdf</code></pre>
<h2 id="ubuntu-installation">Ubuntu Installation</h2>
<p>For ubuntu, replace <code>brew</code> commands with:</p>
<pre><code>sudo apt-get install pandoc texi2html</code></pre>
</div></div></div></div><h1 id="doc/source"><span class="directory">doc/source</span></h1><h2 id="doc/source/0 introduction.rst"><span class="file">0 introduction</span><span class="extension">rst</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/source/0 introduction.rst">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="example-of-eazy-documentation-for-a-common-lisp-library">Example of Eazy Documentation for a Common Lisp library</h1>
<p>This is a small library includes a few functions with docstrings and a documentation for the system and all included packages.</p>
<p>The purpose is to demonstrate core features of the <a href="https://guicho271828.github.io/eazy-documentation/">eazy-documentation</a> library.</p>
<p>The repository can be used as a template for new libraries if you've choosen <code>Eazy Documentation</code> for documenting your library.</p>
<p>Let's review features, provided by <code>Eazy Documentation</code>.</p>
</div></div></div></div><h2 id="doc/source/1 pros-n-cons.rst"><span class="file">1 pros-n-cons</span><span class="extension">rst</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/source/1 pros-n-cons.rst">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="pros-cons-of-coo">Pros &amp; Cons of Coo</h1>
<h2 id="pros">Pros</h2>
<ul>
<li><code>Eazy documentation</code> supports many markups out of the box:
<ul>
<li>docx</li>
<li>epub</li>
<li>man</li>
<li>markdown</li>
<li>md</li>
<li>mediawiki</li>
<li>odt</li>
<li>opml</li>
<li>org</li>
<li>rst</li>
<li>tex</li>
<li>texi</li>
<li>texinfo</li>
<li>text</li>
<li>textile</li>
<li>txt</li>
<li>wiki</li>
</ul></li>
<li>By default, <code>Markdown</code> is used for docstrings.</li>
<li>And the system is able to do proper deindentation for docstrings.</li>
<li>It automatically discovers README and files in <code>doc</code> folder.</li>
<li>All lisp files are processed as documents and presented in the resulting <code>HTML</code> file as sections.</li>
<li>It is able to process docstrins in forms other than standard functions, macros, classes, etc.</li>
<li><code>Eazy documentation</code> uses <a href="https://github.com/CommonDoc/common-doc">CommonDoc</a> for internal document representation and theoretically you can write your own post-processing.</li>
<li>There is default color-theme.</li>
<li><code>Eazy documentation</code> generates links to the source of every section. This way typos or small errors can be easily fixed on the GitHub. I really like this feature!</li>
<li>It generates a single HTML file which can be easily searched through in the browser.</li>
<li><code>Eazy documentation</code> includes a command line utility and which be called to build documentation for any CL system loadable via ASDF.</li>
<li>It can be used to build documentation for non Lisp projects. Just point it to any directory with documentation files. For example, take a look at [this manual](manuals.html). However, this feature is only available in my fork and not merged to upstream yet.</li>
</ul>
<h2 id="cons">Cons</h2>
<ul>
<li>There is only one way to control the order of files in the doc - to add a numberic prefix.</li>
<li>There is no cross-referencing is semi-automatic - you have to write links manually.</li>
<li>And there is not autocheck if all links are correct.</li>
<li>You have to install <code>pandoc</code> and <code>texinfo</code> into the system :(</li>
<li>It will be hard to add additional markup to <code>rst</code> or <code>markdown</code>, because they are processed by <code>pandoc</code>.</li>
<li>I don't like default color theme, but you can redefine it.</li>
<li>Also I don't like how the document is rendered. Side-bar with files is OK, but different sizes of HTML headers in the main site's section looks ugly. Probably it is possible to use some header level normalization.</li>
<li>Seems package-inferred systems style is not supported fully, because I don't see <code>EXAMPLE/APP</code> and <code>EXAMPLE/UTILS</code> packages description in this document.</li>
<li>It generates a single HTML file which can be pretty large if your system is big.</li>
</ul>
</div></div></div></div><h2 id="doc/source/3 handwritten.rst"><span class="file">3 handwritten</span><span class="extension">rst</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/source/3 handwritten.rst">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="handwritten-documentation">Handwritten documentation</h1>
<p>I think the ability to write a large pieces of documentation which aren't bound to a function, class or module is an important feature. This way you can tell the user about some toplevel abstractions and give a bird eye view on the library or system.</p>
<p>For example, handwritten parts of the documentation can provide some code snippets to demonstrate the ways, how to use the library:</p>
<pre><code>(loop repeat 42
      collect (foo &quot;bar&quot; 100500))</code></pre>
<p>And when you are talking about some function or class, you can reference it. For example, if I'm talking about <code>foo</code> function.</p>
<p><code>Eazy documentation</code> does not provides an eazy way to refer symbols. It would be nice to have <code>EXAMPLE/APP:FOO</code> autolinked, but this does not work.</p>
<p>But the system generates HTML ids for symbols and you can refer them manually. The syntax will be different depending on file's markup language. In reStructured text we can reference <code>FOO</code> like this <code>`FOO &lt;#EXAMPLE/APP:FOO&gt;`_</code> and it will appear in the code as the link <a href="#EXAMPLE/APP:FOO">FOO</a>.</p>
</div></div></div></div><h2 id="doc/source/4 autogenerated.rst"><span class="file">4 autogenerated</span><span class="extension">rst</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/source/4 autogenerated.rst">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><div class="static-file"><div class="docstring"><h1 id="autogenerated-api">Autogenerated API</h1>
<p>As I said previously, <code>Eazy Documentation</code> processes Lisp files as a documents and all of them will be presented in the document as sections.</p>
<p>It has unique docstring extration algorithm, which is able to extract docstrings from forms which are not standard.</p>
<p>I've created an example for you:</p>
<div class="sourceCode"><pre class="sourceCode lisp"><code class="sourceCode commonlisp">(<span class="kw">defmacro</span><span class="fu"> defrule </span>(name &amp;body body)
  <span class="st">&quot;This is a fake macro just to demonstrate how eazy-documentation</span>
<span class="st">   will extract docstrings from it&#39;s forms.&quot;</span>
  `(<span class="kw">defparameter</span><span class="fu"> </span>,name &#39;(,@(<span class="kw">rest</span> body))))


(defrule number-one
    <span class="st">&quot;This is a rule&#39;s docstring. Nothing special, just a text.</span>

<span class="st">After macro-expansion it will be just:</span>

<span class="st">   (defparameter number-one &#39;((a b c)))</span>

<span class="st">&quot;</span>
  (a b c))</code></pre></div>
<p>Here is the <a href="#EXAMPLE/APP:NUMBER-ONE">resulting part</a> of the documentation. Pay attention, there two blocks named <code>defrule:number-one</code> and <code>defparameter:number-one</code>, but both having the same HTML id <code>EXAMPLE/APP:NUMBER-ONE</code>. Because of this, you'll not be able to refer the <code>defrule</code> or the <code>parameter</code> separately. I like the concept of <a href="http://melisgl.github.io/mgl-pax/#x-28MGL-PAX-3A-40MGL-PAX-LOCATIVES-AND-REFERENCES-20MGL-PAX-3ASECTION-29">locatives</a> from MGL-PAX, <a href="https://cl-doc-systems.github.io/mgl-pax/">reviewed recently</a>. They allow to select a type of an object you are referring to.</p>
</div></div></div></div><h1 id=""><span class="directory"></span></h1><h2 id="example.asd"><span class="file">example</span><span class="extension">asd</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/example.asd">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defsystem-example-"><div class="pkg-KEYWORD EXTERNAL"><div class="span"><span class="doctype">defsystem</span></div><div class="span"><span class="name" id="KEYWORD:EXAMPLE">example</span></div><span class="args lisp"></span></div></h3><div class="docstring">This description will be used only if long-description is missing</div></div></div><h1 id="doc/scripts"><span class="directory">doc/scripts</span></h1><h2 id="doc/scripts/build.ros"><span class="file">build</span><span class="extension">ros</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/doc/scripts/build.ros">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defsystem-example-app-example-utils-example-class-keyword-"><div class="pkg-KEYWORD EXTERNAL"><div class="span"><span class="doctype">defsystem</span></div><div class="span"><span class="name EXTERNAL" id="KEYWORD:EXAMPLE/APP">example/app</span><span class="name EXTERNAL" id="KEYWORD:EXAMPLE/UTILS">example/utils</span><span class="name EXTERNAL" id="KEYWORD:EXAMPLE/CLASS">example/class</span></div><span class="package">keyword</span><span class="args lisp"></span></div></h3><div class="docstring missing">(documentation missing)</div></div></div><h1 id="src"><span class="directory">src</span></h1><h2 id="src/utils.lisp"><span class="file">utils</span><span class="extension">lisp</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/src/utils.lisp">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defun-do-the-job-first-second"><div class="pkg-EXAMPLE/UTILS EXTERNAL"><div class="span"><span class="doctype">defun</span></div><div class="span"><span class="name" id="EXAMPLE/UTILS:DO-THE-JOB">do-the-job</span></div><span class="args lisp">first second</span></div></h3><div class="docstring">The function does the job.

   It **concatenates** first and second arguments
   calling internal function concat.

   On this multiline we'll check how does documentation
   system processes docstrings.

   By the way, pay attention at the second paragraph where
   I've used [Markdown](https://www.markdownguide.org/basic-syntax/)
   format to make the word "concatenates" bold.

   Also, we can reference some parts of the documentation.
   Read more about cross referencing in the
   [Handwritten documentation](#handwritten-documentation) chapter.</div></div></div><h2 id="src/class.lisp"><span class="file">class</span><span class="extension">lisp</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/src/class.lisp">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defclass-user-"><div class="pkg-EXAMPLE/CLASS EXTERNAL"><div class="span"><span class="doctype">defclass</span></div><div class="span"><span class="name" id="EXAMPLE/CLASS:USER">user</span></div><span class="args lisp"></span></div></h3><div class="docstring">All users in the system have this class.

Last login slot is updated automatically.</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defclass-admin-"><div class="pkg-EXAMPLE/CLASS EXTERNAL"><div class="span"><span class="doctype">defclass</span></div><div class="span"><span class="name" id="EXAMPLE/CLASS:ADMIN">admin</span></div><span class="args lisp"></span></div></h3><div class="docstring">Admins should have additional priveleges.</div></div></div><h2 id="src/app.lisp"><span class="file">app</span><span class="extension">lisp</span><a class="source-link" href="https://github.com/cl-doc-systems/eazy-documentation/blob/master/src/app.lisp">[edit on web]</a></h2><div class="doc-entry"><div class="entry"><h3 id="defmacro-defrule-name-&body-body"><div class="pkg-EXAMPLE/APP EXTERNAL"><div class="span"><span class="doctype">defmacro</span></div><div class="span"><span class="name" id="EXAMPLE/APP:DEFRULE">defrule</span></div><span class="args lisp">name &amp;body body</span></div></h3><div class="docstring">This is a fake macro just to demonstrate how eazy-documentation
   will extract docstrings from it's forms.</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defrule-number-one-"><div class="pkg-EXAMPLE/APP EXTERNAL"><div class="span"><span class="doctype">defrule</span></div><div class="span"><span class="name" id="EXAMPLE/APP:NUMBER-ONE">number-one</span></div><span class="args lisp"></span></div></h3><div class="docstring">This is a rule's docstring. Nothing special, just a text.

After macro-expansion it will be just:

    (defparameter number-one '((a b c)))

</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defparameter-number-one-"><div class="pkg-EXAMPLE/APP EXTERNAL"><div class="span"><span class="doctype">defparameter</span></div><div class="span"><span class="name" id="EXAMPLE/APP:NUMBER-ONE">number-one</span></div><span class="args lisp"></span></div></h3><div class="docstring missing">(documentation missing)</div></div></div><div class="doc-entry"><div class="entry"><h3 id="defun-foo-first-&key-(other-100500)"><div class="pkg-EXAMPLE/APP EXTERNAL"><div class="span"><span class="doctype">defun</span></div><div class="span"><span class="name" id="EXAMPLE/APP:FOO">foo</span></div><span class="args lisp">first &amp;key (other 100500)</span></div></h3><div class="docstring">This is example function.

   Internally it calls [DO-THE-JOB](#EXAMPLE/UTILS:DO-THE-JOB)
   to do the real job.

   Note, I'm using Markdown in this doctring. This is default
   and docstrings markup can be changed by a parameter.</div></div></div></div><div class="footer"></div></body></html>